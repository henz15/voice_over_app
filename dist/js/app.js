(function (factory) {
  typeof define === 'function' && define.amd ? define(factory) :
  factory();
})((function () { 'use strict';

  const synth=window.speechSynthesis,textInput=document.getElementById("txtEnglish"),voiceForm=document.querySelector("form"),voiceSpeedBtn=document.querySelector("#btnVoiceSpeed"),pausePlayBtn=document.querySelector("#btnPausePlay");let voiceSpeed=1,voices=[];const playIcon='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">\n                      <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />\n                      <path stroke-linecap="round" stroke-linejoin="round" d="M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z" />\n                    </svg>',pauseIcon='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">\n                        <path stroke-linecap="round" stroke-linejoin="round" d="M14.25 9v6m-4.5 0V9M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />\n                      </svg>';synth.cancel();const getVoices=()=>{voices=synth.getVoices().filter((e=>"en-GB"===e.lang||"en-US"===e.lang));};getVoices(),void 0!==synth.onvoiceschanged&&(synth.onvoiceschanged=getVoices);const speak=()=>{if(!synth.speaking&&textInput.value){const e=new SpeechSynthesisUtterance(textInput.value);e.onend=e=>{voiceSpeedBtn.style.visibility="visible",pausePlayBtn.innerHTML=`${playIcon} Play`;},e.onerror=e=>{console.error("Something went wrong");},e.voice=voices[2],e.rate=voiceSpeed,e.pitch=1,synth.speak(e);}};voiceSpeedBtn.addEventListener("click",(function(e){switch(this.textContent){case"0.5x":this.textContent="1x",voiceSpeed=1;break;case"1x":default:this.textContent="1.5x",voiceSpeed=1.5;break;case"1.5x":this.textContent="2x",voiceSpeed=2;break;case"2x":this.textContent="0.5x",voiceSpeed=.5;}})),voiceForm.addEventListener("submit",(function(e){return e.preventDefault(),voiceSpeedBtn.style.visibility="hidden","Pause"===pausePlayBtn.textContent.trim()&&synth.speaking?(synth.pause(),pausePlayBtn.innerHTML=`${playIcon} Play`,void textInput.blur()):"Play"===pausePlayBtn.textContent.trim()&&synth.paused?(synth.resume(),pausePlayBtn.innerHTML=`${pauseIcon} Pause`,void textInput.blur()):(speak(),pausePlayBtn.innerHTML=`${pauseIcon} Pause`,void textInput.blur())}));

}));
